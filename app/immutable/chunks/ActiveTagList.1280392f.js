import{s as N,f as S,W as G,g as T,h as D,X as J,d as p,j as d,r as z,i as $,v as k,u as P,H as Q,N as R,D as j,F as V,a as K,e as B,c as L,I as Y}from"./scheduler.876e21ab.js";import{S as H,i as U,b,d as v,m as y,a as h,t as g,e as w,g as C,c as E}from"./index.bf870a3d.js";import{e as M}from"./each.e59479a4.js";import{D as W}from"./DetailedTag.e8adca40.js";import{f as Z,s as x,g as ee}from"./search-builder.8b9a057a.js";import{a as te}from"./active-tags-store.9b7ddb3d.js";import{f as ne}from"./feature-support.8f9b3d5f.js";function re(r){let e,n;return{c(){e=S("h1"),n=new G(!1),this.h()},l(t){e=T(t,"H1",{class:!0});var a=D(e);n=J(a,!1),a.forEach(p),this.h()},h(){n.a=null,d(e,"class",z(r[1])+" svelte-1jtyohl")},m(t,a){$(t,e,a),n.m(r[0],e)},p:k,i:k,o:k,d(t){t&&p(e)}}}function le(r){const e=new Date,n=o=>{const l=`${o.getDate()}-${o.getMonth()}`;return l==="24-12"||l==="25-12"?"kurðŸŽ…search":"kurosearch"},t=o=>o.getMonth()===5?"pride":"default",a=n(e),s=t(e);return[a,s]}class ye extends H{constructor(e){super(),U(this,e,le,re,N,{})}}function ae(r){let e,n,t,a,s;return{c(){e=S("button"),n=S("i"),this.h()},l(o){e=T(o,"BUTTON",{title:!0,class:!0});var l=D(e);n=T(l,"I",{class:!0}),D(n).forEach(p),l.forEach(p),this.h()},h(){d(n,"class",t=z(r[1])+" svelte-zworfu"),d(e,"title",r[0]),d(e,"class","svelte-zworfu")},m(o,l){$(o,e,l),P(e,n),a||(s=Q(e,"click",r[2]),a=!0)},p(o,[l]){l&2&&t!==(t=z(o[1])+" svelte-zworfu")&&d(n,"class",t),l&1&&d(e,"title",o[0])},i:k,o:k,d(o){o&&p(e),a=!1,s()}}}function se(r,e,n){let{title:t}=e,{icon:a}=e;function s(o){R.call(this,r,o)}return r.$$set=o=>{"title"in o&&n(0,t=o.title),"icon"in o&&n(1,a=o.icon)},[t,a,s]}class X extends H{constructor(e){super(),U(this,e,se,ae,N,{title:0,icon:1})}}function oe(r){let e,n;return e=new X({props:{title:"Share current search.",icon:"codicon codicon-copy"}}),e.$on("click",r[0]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ie(r,e,n){let t,a,s;return j(r,Z,l=>n(1,t=l)),j(r,x,l=>n(2,a=l)),j(r,te,l=>n(3,s=l)),[async()=>{let l={title:"kurosearch",text:"Saved Search Configuration",url:ee(s,a,t).toString()};try{await navigator.share(l)}catch{}}]}class ce extends H{constructor(e){super(),U(this,e,ie,oe,N,{})}}function F(r,e,n){const t=r.slice();return t[7]=e[n],t}function I(r){let e,n,t=ne(),a,s,o=M(r[0]),l=[];for(let i=0;i<o.length;i+=1)l[i]=q(F(r,o,i));const _=i=>g(l[i],1,1,()=>{l[i]=null});let c=r[0].length>1&&O(r),u=t&&_e();return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=K(),c&&c.c(),n=K(),u&&u.c(),a=B()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);e=L(i),c&&c.l(i),n=L(i),u&&u.l(i),a=B()},m(i,f){for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,f);$(i,e,f),c&&c.m(i,f),$(i,n,f),u&&u.m(i,f),$(i,a,f),s=!0},p(i,f){if(f&3){o=M(i[0]);let m;for(m=0;m<o.length;m+=1){const A=F(i,o,m);l[m]?(l[m].p(A,f),h(l[m],1)):(l[m]=q(A),l[m].c(),h(l[m],1),l[m].m(e.parentNode,e))}for(C(),m=o.length;m<l.length;m+=1)_(m);E()}i[0].length>1?c?(c.p(i,f),f&1&&h(c,1)):(c=O(i),c.c(),h(c,1),c.m(n.parentNode,n)):c&&(C(),g(c,1,1,()=>{c=null}),E())},i(i){if(!s){for(let f=0;f<o.length;f+=1)h(l[f]);h(c),h(u),s=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)g(l[f]);g(c),g(u),s=!1},d(i){i&&(p(e),p(n),p(a)),Y(l,i),c&&c.d(i),u&&u.d(i)}}}function ue(r){let e,n;function t(){return r[4](r[7])}function a(){return r[5](r[7])}return e=new W({props:{tag:r[7],active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,o){y(e,s,o),n=!0},p(s,o){r=s;const l={};o&1&&(l.tag=r[7]),e.$set(l)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function fe(r){let e,n;function t(){return r[2](r[7])}function a(){return r[3](r[7])}return e=new W({props:{tag:{name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length},active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,o){y(e,s,o),n=!0},p(s,o){r=s;const l={};o&1&&(l.tag={name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length}),e.$set(l)},i(s){n||(h(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){w(e,s)}}}function q(r){let e,n,t,a;const s=[fe,ue],o=[];function l(_,c){return"description"in _[7]?0:1}return e=l(r),n=o[e]=s[e](r),{c(){n.c(),t=B()},l(_){n.l(_),t=B()},m(_,c){o[e].m(_,c),$(_,t,c),a=!0},p(_,c){let u=e;e=l(_),e===u?o[e].p(_,c):(C(),g(o[u],1,1,()=>{o[u]=null}),E(),n=o[e],n?n.p(_,c):(n=o[e]=s[e](_),n.c()),h(n,1),n.m(t.parentNode,t))},i(_){a||(h(n),a=!0)},o(_){g(n),a=!1},d(_){_&&p(t),o[e].d(_)}}}function O(r){let e,n;return e=new X({props:{icon:"codicon codicon-star-full",title:"Create a supertag from the current selection."}}),e.$on("click",r[6]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function _e(r){let e,n;return e=new ce({}),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function me(r){let e,n,t=r[0].length>0&&I(r);return{c(){e=S("ul"),t&&t.c(),this.h()},l(a){e=T(a,"UL",{class:!0});var s=D(e);t&&t.l(s),s.forEach(p),this.h()},h(){d(e,"class","svelte-11k0uwj")},m(a,s){$(a,e,s),t&&t.m(e,null),n=!0},p(a,[s]){a[0].length>0?t?(t.p(a,s),s&1&&h(t,1)):(t=I(a),t.c(),h(t,1),t.m(e,null)):t&&(C(),g(t,1,1,()=>{t=null}),E())},i(a){n||(h(t),n=!0)},o(a){g(t),n=!1},d(a){a&&p(e),t&&t.d()}}}function he(r,e,n){const t=V();let{tags:a}=e;const s=u=>t("click",u),o=u=>t("contextmenu",u),l=u=>t("click",u),_=u=>t("contextmenu",u),c=()=>t("createSupertag",a);return r.$$set=u=>{"tags"in u&&n(0,a=u.tags)},[a,t,s,o,l,_,c]}class we extends H{constructor(e){super(),U(this,e,he,me,N,{tags:0})}}export{we as A,ye as K};
